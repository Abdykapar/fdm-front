(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7176b5b4"],{"0c61":function(e,t,r){},"0d45":function(e,t,r){e.exports=r.p+"img/delete.9da4aae3.svg"},"28c3":function(e,t,r){e.exports=r.p+"img/error.bff6bafe.svg"},"4ba6":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("99af");var a=r("d4ec"),i=r("bee2"),n=r("262e"),s=r("2caf"),o=r("a2a9"),c="http://176.126.167.34:8080/api",l=function(e){Object(n["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(a["a"])(this,r),t.call(this)}return Object(i["a"])(r,[{key:"getAll",value:function(){var e="".concat(c,"/triggers/");return this.sendGetRequest(e)}},{key:"create",value:function(e){var t="".concat(c,"/triggers/");return this.sendPostRequest(t,e)}},{key:"getById",value:function(e){var t="".concat(c,"/triggers/").concat(e);return this.sendGetRequest(t)}},{key:"update",value:function(e){var t="".concat(c,"/triggers/").concat(e.id,"/");return this.sendPutRequest(t,e)}},{key:"delete",value:function(e){var t="".concat(c,"/triggers/").concat(e);return this.sendDeleteRequest(t)}}]),r}(o["a"]),d=new l},5403:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("99af");var a=r("d4ec"),i=r("bee2"),n=r("262e"),s=r("2caf"),o=r("a2a9"),c="http://176.126.167.34:8080/api",l=function(e){Object(n["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(a["a"])(this,r),t.call(this)}return Object(i["a"])(r,[{key:"getAll",value:function(){var e="".concat(c,"/aircraft-models/");return this.sendGetRequest(e)}},{key:"create",value:function(e){var t="".concat(c,"/aircraft-models/");return this.sendPostRequest(t,e)}},{key:"getById",value:function(e){var t="".concat(c,"/aircraft-models/").concat(e);return this.sendGetRequest(t)}},{key:"update",value:function(e){var t="".concat(c,"/aircraft-models/").concat(e.id,"/");return this.sendPutRequest(t,e)}},{key:"delete",value:function(e){var t="".concat(c,"/aircraft-models/").concat(e);return this.sendDeleteRequest(t)}}]),r}(o["a"]),d=new l},"589d":function(e,t,r){},"5bc5":function(e,t,r){"use strict";r("0c61")},"63a0":function(e,t,r){},7115:function(e,t,r){},"76a4":function(e,t,r){e.exports=r.p+"img/add.c887fade.svg"},"86a0":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fdm-modal",{attrs:{type:"delete"}},[r("div",{staticClass:"delete",attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"delete__title"},[e._v(" Are you sure? ")]),r("div",{staticClass:"delete__buttons"},[r("button",{on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),r("button",{staticClass:"black",on:{click:function(t){return e.$emit("delete")}}},[e._v(" Delete ")])])])])},i=[],n=r("f0c9"),s={name:"ModalDelete",components:{FdmModal:n["a"]}},o=s,c=(r("aa43"),r("2877")),l=Object(c["a"])(o,a,i,!1,null,null,null);t["a"]=l.exports},"94ba":function(e,t,r){"use strict";r("7115")},"9ee9":function(e,t,r){"use strict";r("63a0")},aa43:function(e,t,r){"use strict";r("589d")},daf0:function(e,t,r){e.exports=r.p+"img/edit.24a6c96e.svg"},e068:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"country home__body"},[a("div",{staticClass:"home__body__head"},[a("span",[e._v("Aircraft Model Trigger")]),a("button",{staticClass:"flex-align-center",on:{click:e.onCreate}},[a("img",{attrs:{src:r("76a4"),alt:""}}),e._v(" Add new aircraft model trigger ")])]),a("div",{staticClass:"home__body__main"},[a("fdm-table",[a("template",{slot:"head"},[a("tr",[a("th",{staticClass:"id"},[e._v(" ID ")]),a("th",[e._v("Trigger")]),a("th",[e._v("Low")]),a("th",[e._v("Medium")]),a("th",[e._v("High")]),a("th",[e._v("CSV position")]),a("th"),a("th")])]),a("template",{slot:"body"},e._l(e.aircraftModelTriggers,(function(t,i){return a("tr",{key:t.id},[a("td",{staticClass:"id"},[e._v(" "+e._s(i+1)+" ")]),a("td",[e._v(e._s(t.trigger_title))]),a("td",[e._v(e._s(t.low))]),a("td",[e._v(e._s(t.medium))]),a("td",[e._v(e._s(t.high))]),a("td",[e._v(e._s(t.csv_position))]),a("td",[a("img",{staticClass:"pointer",attrs:{src:r("daf0"),alt:""},on:{click:function(r){return e.onEdit(t)}}})]),a("td",[a("img",{staticClass:"pointer",attrs:{src:r("0d45"),alt:""},on:{click:function(r){return e.onDelete(t.id)}}})])])})),0)],2)],1),e.isCreate?a("aircraft-model-trigger-create",{attrs:{"is-edit":e.isEdit,"edit-model":e.aircraftModelTrigger},on:{close:function(t){e.isCreate=!1},fetch:e.fetchData}}):e._e(),e.isDelete?a("modal-delete",{on:{close:function(t){e.isDelete=!1},delete:e.deleteModel}}):e._e()],1)},i=[],n=r("5530"),s=r("fa41"),o=(r("99af"),r("d4ec")),c=r("bee2"),l=r("262e"),d=r("2caf"),u=r("a2a9"),f="http://176.126.167.34:8080/api",g=function(e){Object(l["a"])(r,e);var t=Object(d["a"])(r);function r(){return Object(o["a"])(this,r),t.call(this)}return Object(c["a"])(r,[{key:"getAll",value:function(){var e="".concat(f,"/aircraft-model-triggers/");return this.sendGetRequest(e)}},{key:"create",value:function(e){var t="".concat(f,"/aircraft-model-triggers/");return this.sendPostRequest(t,e)}},{key:"getById",value:function(e){var t="".concat(f,"/aircraft-model-triggers/").concat(e);return this.sendGetRequest(t)}},{key:"update",value:function(e){var t="".concat(f,"/aircraft-model-triggers/").concat(e.id,"/");return this.sendPutRequest(t,e)}},{key:"delete",value:function(e){var t="".concat(f,"/aircraft-model-triggers/").concat(e);return this.sendDeleteRequest(t)}}]),r}(u["a"]),m=new g,v=r("86a0"),h=r("2f62"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("fdm-modal",{on:{close:function(t){return e.$emit("close")}}},[a("div",{staticClass:"create",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"create__head"},[e._v(" "+e._s(e.isEdit?"Edit aircraft model trigger":"Add new aircraft model trigger")+" ")]),a("div",{staticClass:"create__body"},[a("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"form__row",class:{error:e.errors.has("aircraft_model")}},[a("label",{attrs:{for:"aircraft_model"}},[e._v("Aircraft model")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.aircraftModelTrigger.aircraft_model,expression:"aircraftModelTrigger.aircraft_model"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"aircraft_model",name:"aircraft_model"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.aircraftModelTrigger,"aircraft_model",t.target.multiple?r:r[0])}}},e._l(e.aircraftModels,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),0)]),a("div",{staticClass:"form__row",class:{error:e.errors.has("trigger")}},[a("label",{attrs:{for:"trigger"}},[e._v("Trigger")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.aircraftModelTrigger.trigger,expression:"aircraftModelTrigger.trigger"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"trigger",name:"trigger"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.aircraftModelTrigger,"trigger",t.target.multiple?r:r[0])}}},e._l(e.triggers,(function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(" "+e._s(t.title)+" ")])})),0)]),a("div",{staticClass:"form__row",class:{error:e.errors.has("low")}},[a("label",{attrs:{for:"low"}},[e._v("Low")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.aircraftModelTrigger.low,expression:"aircraftModelTrigger.low"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"low",type:"text",name:"low"},domProps:{value:e.aircraftModelTrigger.low},on:{input:function(t){t.target.composing||e.$set(e.aircraftModelTrigger,"low",t.target.value)}}}),e.errors.length?[a("img",{attrs:{src:r("28c3"),alt:""}}),a("span",[e._v("Required field")])]:e._e()],2),a("div",{staticClass:"form__row",class:{error:e.errors.has("medium")}},[a("label",{attrs:{for:"medium"}},[e._v("Medium")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.aircraftModelTrigger.medium,expression:"aircraftModelTrigger.medium"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"medium",type:"text",name:"medium"},domProps:{value:e.aircraftModelTrigger.medium},on:{input:function(t){t.target.composing||e.$set(e.aircraftModelTrigger,"medium",t.target.value)}}}),e.errors.length?[a("img",{attrs:{src:r("28c3"),alt:""}}),a("span",[e._v("Required field")])]:e._e()],2),a("div",{staticClass:"form__row",class:{error:e.errors.has("high")}},[a("label",{attrs:{for:"high"}},[e._v("High")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.aircraftModelTrigger.high,expression:"aircraftModelTrigger.high"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"high",type:"text",name:"high"},domProps:{value:e.aircraftModelTrigger.high},on:{input:function(t){t.target.composing||e.$set(e.aircraftModelTrigger,"high",t.target.value)}}}),e.errors.length?[a("img",{attrs:{src:r("28c3"),alt:""}}),a("span",[e._v("Required field")])]:e._e()],2),a("div",{staticClass:"form__row",class:{error:e.errors.has("csv_position")}},[a("label",{attrs:{for:"csv_position"}},[e._v("CSV position")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.aircraftModelTrigger.csv_position,expression:"aircraftModelTrigger.csv_position"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"csv_position",type:"number",name:"csv_position"},domProps:{value:e.aircraftModelTrigger.csv_position},on:{input:function(t){t.target.composing||e.$set(e.aircraftModelTrigger,"csv_position",t.target.value)}}}),e.errors.length?[a("img",{attrs:{src:r("28c3"),alt:""}}),a("span",[e._v("Required field")])]:e._e()],2),a("div",{staticClass:"form__submit flex-justify-between"},[a("button",{attrs:{type:"submit"}},[e._v(" ADD ")]),a("button",{staticClass:"black",attrs:{type:"reset"},on:{click:function(t){return e.$emit("close")}}},[e._v(" DECLINE ")])])])])])])},p=[],b=r("f0c9"),M=r("5403"),y=r("4ba6"),C={name:"AircraftModelTriggerCreate",components:{FdmModal:b["a"]},props:{isEdit:{type:Boolean,default:!1},editModel:{type:Object,default:function(){return{}}}},data:function(){return{aircraftModelTrigger:{},aircraftModels:[],triggers:[]}},mounted:function(){this.isEdit&&(this.aircraftModelTrigger=Object(n["a"])({},this.editModel)),this.fetchData()},methods:Object(n["a"])(Object(n["a"])({},Object(h["b"])("loader",["setLoading"])),{},{fetchData:function(){var e=this;this.setLoading(!0),M["a"].getAll().then((function(t){return e.aircraftModels=t,y["a"].getAll()})).then((function(t){e.triggers=t,e.setLoading(!1)})).catch((function(t){console.log(t),e.setLoading(!1),e.$toastr.e(t)}))},onSubmit:function(){var e=this;this.$validator.validate().then((function(t){t&&(e.isEdit?m.update(e.aircraftModelTrigger).then((function(){e.$toastr.s(e.$t("successMessageEdit")),e.$emit("fetch"),e.$emit("close")})).catch((function(t){e.$toastr.e(t),console.log(t)})):m.create(e.aircraftModelTrigger).then((function(){e.$emit("fetch"),e.$emit("close"),e.$toastr.s(e.$t("successMessageCreate"))})).catch((function(t){console.log(t),e.$toastr.e(t)})))}))}})},w=C,T=(r("94ba"),r("2877")),k=Object(T["a"])(w,_,p,!1,null,null,null),q=k.exports,$={name:"AircraftModelTrigger",components:{AircraftModelTriggerCreate:q,FdmTable:s["a"],ModalDelete:v["a"]},data:function(){return{isCreate:!1,aircraftModelTriggers:[],aircraftModelTrigger:{},isEdit:!1,isDelete:!1,deleteId:0}},mounted:function(){this.fetchData()},methods:Object(n["a"])(Object(n["a"])({},Object(h["b"])("loader",["setLoading"])),{},{fetchData:function(){var e=this;this.setLoading(!0),m.getAll().then((function(t){e.setLoading(!1),e.aircraftModelTriggers=t})).catch((function(t){e.setLoading(!1),console.log(t)}))},onCreate:function(){this.isEdit=!1,this.isCreate=!0},onEdit:function(e){this.isCreate=!0,this.isEdit=!0,this.aircraftModelTrigger=e},onDelete:function(e){this.isDelete=!0,this.deleteId=e},deleteModel:function(){var e=this;this.setLoading(!0),m.delete(this.deleteId).then((function(){e.setLoading(!1),e.fetchData(),e.isDelete=!1,e.$toastr.s(e.$t("successMessageDelete"))})).catch((function(t){e.setLoading(!1),e.$toastr.e(t),console.log(t)}))}})},O=$,x=Object(T["a"])(O,a,i,!1,null,null,null);t["default"]=x.exports},f0c9:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal flex-center",attrs:{id:"modal"}},[r("div",{staticClass:"modal__content",class:{delete:"delete"===e.type,"auto-height":e.autoHeight,width:"fligthData"===e.type}},[e._t("content")],2)])},i=[],n={name:"FdmModal",props:{type:{type:String,default:""},autoHeight:{type:Boolean,default:!1}},data:function(){return{modal:""}},mounted:function(){this.modal=document.getElementById("modal"),this.modal.addEventListener("click",this.onOutsideClick)},beforeDestroy:function(){this.modal.removeEventListener("click",this.onOutsideClick)},methods:{onOutsideClick:function(e){e.target===this.modal&&this.$emit("close")}}},s=n,o=(r("9ee9"),r("2877")),c=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=c.exports},fa41:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",{staticClass:"fdm-table"},[r("thead",[e._t("head")],2),r("tbody",[e._t("body")],2)])},i=[],n={name:"FmdTable"},s=n,o=(r("5bc5"),r("2877")),c=Object(o["a"])(s,a,i,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-7176b5b4.4e0a6d06.js.map