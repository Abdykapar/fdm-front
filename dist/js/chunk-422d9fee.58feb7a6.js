(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-422d9fee"],{"0c61":function(t,e,a){},"0d45":function(t,e,a){t.exports=a.p+"img/delete.9da4aae3.svg"},"17ca":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"country home__body"},[n("div",{staticClass:"home__body__head"},[n("span",[t._v("Route")]),n("button",{staticClass:"flex-align-center",on:{click:t.onCreate}},[n("img",{attrs:{src:a("76a4"),alt:""}}),t._v(" Add new route ")])]),n("div",{staticClass:"home__body__main"},[n("fdm-table",[n("template",{slot:"head"},[n("tr",[n("th",{staticClass:"id"},[t._v(" ID ")]),n("th",[t._v("Airline")]),n("th",[t._v("From")]),n("th",[t._v("To")]),n("th"),n("th")])]),n("template",{slot:"body"},t._l(t.routes,(function(e,i){return n("tr",{key:e.id},[n("td",{staticClass:"id"},[t._v(" "+t._s(i+1)+" ")]),n("td",[t._v(t._s(e.airline_title))]),n("td",[t._v(t._s(e.from_airport_title))]),n("td",[t._v(t._s(e.to_airport_title))]),n("td",[n("img",{staticClass:"pointer",attrs:{src:a("daf0"),alt:""},on:{click:function(a){return t.onEdit(e)}}})]),n("td",[n("img",{staticClass:"pointer",attrs:{src:a("0d45"),alt:""},on:{click:function(a){return t.onDelete(e.id)}}})])])})),0)],2)],1),t.isCreate?n("route-create",{attrs:{"is-edit":t.isEdit,"edit-route":t.route},on:{close:function(e){t.isCreate=!1},fetch:t.fetchRoutes}}):t._e(),t.isDelete?n("modal-delete",{on:{close:function(e){t.isDelete=!1},delete:t.deleteRoute}}):t._e()],1)},i=[],r=a("5530"),o=a("fa41"),s=a("86a0"),c=a("2f62"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fdm-modal",{on:{close:function(e){return t.$emit("close")}}},[a("div",{staticClass:"create",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"create__head"},[t._v(" "+t._s(t.isEdit?"Edit route":"Add new route")+" ")]),a("div",{staticClass:"create__body"},[a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("div",{staticClass:"form__row",class:{error:t.errors.has("airline")}},[a("label",{attrs:{for:"airline"}},[t._v("Airline")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.route.airline,expression:"route.airline"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"airline",name:"airline"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.route,"airline",e.target.multiple?a:a[0])}}},t._l(t.airlines,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)]),a("div",{staticClass:"form__row",class:{error:t.errors.has("fromAirport")}},[a("label",{attrs:{for:"fromAirport"}},[t._v("Airport(from)")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.route.from_airport,expression:"route.from_airport"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"fromAirport",name:"fromAirport"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.route,"from_airport",e.target.multiple?a:a[0])}}},t._l(t.airports,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)]),a("div",{staticClass:"form__row",class:{error:t.errors.has("toAirport")}},[a("label",{attrs:{for:"toAirport"}},[t._v("Airport(to)")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.route.to_airport,expression:"route.to_airport"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"toAirport",name:"toAirport"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.route,"to_airport",e.target.multiple?a:a[0])}}},t._l(t.airports,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)]),a("div",{staticClass:"form__submit flex-justify-between"},[a("button",{attrs:{type:"submit"}},[t._v(" ADD ")]),a("button",{staticClass:"black",attrs:{type:"reset"},on:{click:function(e){return t.$emit("close")}}},[t._v(" DECLINE ")])])])])])])},l=[],d=a("f0c9"),f=a("5bb7"),v=a("6cc7"),m=a("3b5d"),h={name:"RouteCreate",components:{FdmModal:d["a"]},props:{isEdit:{type:Boolean,default:!1},editRoute:{type:Object,default:function(){return{}}}},data:function(){return{airports:[],airlines:[],route:{}}},mounted:function(){this.isEdit&&(this.route=Object(r["a"])({},this.editRoute)),this.fetchAirlines()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])("loader",["setLoading"])),{},{fetchAirlines:function(){var t=this;this.setLoading(!0),f["a"].getAll().then((function(e){return t.airlines=e,v["a"].getAll()})).then((function(e){t.airports=e,t.setLoading(!1)})).catch((function(e){t.setLoading(!1),console.log(e),t.$toastr.e(e)}))},onSubmit:function(){var t=this;this.$validator.validate().then((function(e){e&&(t.isEdit?m["a"].update(t.route).then((function(){t.$toastr.s(t.$t("successMessageEdit")),t.$emit("fetch"),t.$emit("close")})).catch((function(e){t.$toastr.e(e),console.log(e)})):m["a"].create(t.route).then((function(){t.$emit("fetch"),t.$emit("close"),t.$toastr.s(t.$t("successMessageCreate"))})).catch((function(e){console.log(e),t.$toastr.e(e)})))}))}})},p=h,_=a("2877"),b=Object(_["a"])(p,u,l,!1,null,null,null),g=b.exports,y={name:"Country",components:{RouteCreate:g,FdmTable:o["a"],ModalDelete:s["a"]},data:function(){return{isCreate:!1,routes:[],route:{},isEdit:!1,isDelete:!1,deleteId:0}},mounted:function(){this.fetchRoutes()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])("loader",["setLoading"])),{},{fetchRoutes:function(){var t=this;this.setLoading(!0),m["a"].getAll().then((function(e){t.setLoading(!1),t.routes=e})).catch((function(e){t.setLoading(!1),console.log(e)}))},onCreate:function(){this.isEdit=!1,this.isCreate=!0},onEdit:function(t){this.route=t,this.isCreate=!0,this.isEdit=!0},onDelete:function(t){this.isDelete=!0,this.deleteId=t},deleteRoute:function(){var t=this;this.setLoading(!0),m["a"].delete(this.deleteId).then((function(){t.setLoading(!1),t.fetchRoutes(),t.isDelete=!1,t.$toastr.s(t.$t("successMessageDelete"))})).catch((function(e){t.setLoading(!1),t.$toastr.e(e),console.log(e)}))}})},C=y,k=Object(_["a"])(C,n,i,!1,null,null,null);e["default"]=k.exports},"3b5d":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("99af");var n=a("d4ec"),i=a("bee2"),r=a("262e"),o=a("2caf"),s=a("a2a9"),c="http://46.101.136.60:8000/api",u=function(t){Object(r["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),e.call(this)}return Object(i["a"])(a,[{key:"getAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.queryFilter({title:"aircraft_id",value:t}),a="".concat(c,"/routes").concat(e);return this.sendGetRequest(a)}},{key:"create",value:function(t){var e="".concat(c,"/routes/");return this.sendPostRequest(e,t)}},{key:"getById",value:function(t){var e="".concat(c,"/routes/").concat(t);return this.sendGetRequest(e)}},{key:"update",value:function(t){var e="".concat(c,"/routes/").concat(t.id,"/");return this.sendPutRequest(e,t)}},{key:"delete",value:function(t){var e="".concat(c,"/routes/").concat(t);return this.sendDeleteRequest(e)}}]),a}(s["a"]),l=new u},"589d":function(t,e,a){},"5bb7":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("99af");var n=a("d4ec"),i=a("bee2"),r=a("262e"),o=a("2caf"),s=a("a2a9"),c="http://46.101.136.60:8000/api",u=function(t){Object(r["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),e.call(this)}return Object(i["a"])(a,[{key:"getAll",value:function(){var t="".concat(c,"/airlines");return this.sendGetRequest(t)}},{key:"create",value:function(t){var e="".concat(c,"/airlines/");return this.sendPostRequest(e,t)}},{key:"getById",value:function(t){var e="".concat(c,"/airlines/").concat(t);return this.sendGetRequest(e)}},{key:"update",value:function(t){var e="".concat(c,"/airlines/").concat(t.id,"/");return this.sendPutRequest(e,t)}},{key:"delete",value:function(t){var e="".concat(c,"/airlines/").concat(t);return this.sendDeleteRequest(e)}}]),a}(s["a"]),l=new u},"5bc5":function(t,e,a){"use strict";a("0c61")},"63a0":function(t,e,a){},"6cc7":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("99af");var n=a("d4ec"),i=a("bee2"),r=a("262e"),o=a("2caf"),s=a("a2a9"),c="http://46.101.136.60:8000/api",u=function(t){Object(r["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),e.call(this)}return Object(i["a"])(a,[{key:"getAll",value:function(){var t="".concat(c,"/airports");return this.sendGetRequest(t)}},{key:"create",value:function(t){var e="".concat(c,"/airports/");return this.sendPostRequest(e,t)}},{key:"getById",value:function(t){var e="".concat(c,"/airports/").concat(t);return this.sendGetRequest(e)}},{key:"update",value:function(t){var e="".concat(c,"/airports/").concat(t.id,"/");return this.sendPutRequest(e,t)}},{key:"delete",value:function(t){var e="".concat(c,"/airports/").concat(t);return this.sendDeleteRequest(e)}}]),a}(s["a"]),l=new u},"76a4":function(t,e,a){t.exports=a.p+"img/add.c887fade.svg"},"86a0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fdm-modal",{attrs:{type:"delete"}},[a("div",{staticClass:"delete",attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"delete__title"},[t._v(" Are you sure? ")]),a("div",{staticClass:"delete__buttons"},[a("button",{on:{click:function(e){return t.$emit("close")}}},[t._v(" Cancel ")]),a("button",{staticClass:"black",on:{click:function(e){return t.$emit("delete")}}},[t._v(" Delete ")])])])])},i=[],r=a("f0c9"),o={name:"ModalDelete",components:{FdmModal:r["a"]}},s=o,c=(a("aa43"),a("2877")),u=Object(c["a"])(s,n,i,!1,null,null,null);e["a"]=u.exports},"9ee9":function(t,e,a){"use strict";a("63a0")},aa43:function(t,e,a){"use strict";a("589d")},daf0:function(t,e,a){t.exports=a.p+"img/edit.24a6c96e.svg"},f0c9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal flex-center",attrs:{id:"modal"}},[a("div",{staticClass:"modal__content",class:{delete:"delete"===t.type,"auto-height":t.autoHeight,width:"fligthData"===t.type}},[t._t("content")],2)])},i=[],r={name:"FdmModal",props:{type:{type:String,default:""},autoHeight:{type:Boolean,default:!1}},data:function(){return{modal:""}},mounted:function(){this.modal=document.getElementById("modal"),this.modal.addEventListener("click",this.onOutsideClick)},beforeDestroy:function(){this.modal.removeEventListener("click",this.onOutsideClick)},methods:{onOutsideClick:function(t){t.target===this.modal&&this.$emit("close")}}},o=r,s=(a("9ee9"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,null,null);e["a"]=c.exports},fa41:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"fdm-table"},[a("thead",[t._t("head")],2),a("tbody",[t._t("body")],2)])},i=[],r={name:"FmdTable"},o=r,s=(a("5bc5"),a("2877")),c=Object(s["a"])(o,n,i,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-422d9fee.58feb7a6.js.map